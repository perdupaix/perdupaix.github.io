<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reviews</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4f46e5',
                        secondary: '#8b5cf6'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <style>
        :where([class^="ri-"])::before {
            content: "\f3c2";
        }

        body {
            /* font-family: 'Inter', sans-serif; */
            background-color: #f8fafc;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .rounded-button {
            border-radius: 9999px;
        }

        .status-pill {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .status-pill .dot {
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            transform: scale(0.95);
            transition: transform 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .review-card {
            transition: all 0.2s ease;
        }

        .review-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .star-rating {
            color: #fbbf24;
        }

        /* Add custom font faces */
        @font-face {
            font-family: 'Poppins';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/poppins-bold.yji-9690ce6275ddc5645cfa.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
        }

        @font-face {
            font-family: 'Poppins';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/poppins-medium.yji-dc16a3592fdb61b620cc.woff2') format('woff2');
            font-weight: 500;
            font-style: normal;
        }

        @font-face {
            font-family: 'Open Sans';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/open-sans-regular.yji-aff9b80e384301f2ae0c.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: 'Open Sans';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/open-sans-semibold.yji-d3abae27d3eac73b40a5.woff2') format('woff2');
            font-weight: 600;
            font-style: normal;
        }

        @font-face {
            font-family: 'Open Sans';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/open-sans-bold.yji-1145ff0b749fff2d31bb.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
        }

        /* Example usage */
        .poppins-bold {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
        }

        .poppins-medium {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
        }

        .open-sans {
            font-family: 'Open Sans', sans-serif;
            font-weight: 400;
        }

        .open-sans-semibold {
            font-family: 'Open Sans';
            font-weight: 600;
        }

        .open-sans-bold {
            font-family: 'Open Sans';
            font-weight: 700;
        }

        :where([class^="ri-"])::before {
            content: "\f3c2";
        }

        body {
            /*font-family: 'Inter', sans-serif;*/
            overflow: hidden;
        }

        /* Use Poppins Bold for all headings */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        label,
        aside,
        .ctaz {
            font-family: 'Poppins';
            /*font-weight: 700;*/
        }

        /* Use Open Sans Regular for body */
        body {
            font-family: 'Open Sans';
            /*font-weight: 400;*/
        }

        .sidebar-link.active {
            background-color: rgba(79, 70, 229, 0.1);
            color: #4f46e5;
            border-left: 3px solid #4f46e5;
        }

        .sidebar-link:hover:not(.active) {
            background-color: rgba(79, 70, 229, 0.05);
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            color: #4f46e5;
            font-weight: 500;
            transition: background-color 0.2s, color 0.2s;
        }
    </style>
</head>

<body>
    <div class="flex h-screen">
        <!-- <aside class="w-64 bg-white shadow-md p-4 flex flex-col">
            <div class="text-2xl font-bold text-blue-600 mb-8">Platform</div>
            <nav class="space-y-2">
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-dashboard-line"></i>
                    </div>
                    Dashboard
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-ticket-line"></i>
                    </div>
                    My Listings
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-calendar-check-line"></i>
                    </div>
                    Bookings
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-questionnaire-line"></i>
                    </div>
                    Requests
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-message-3-line"></i>
                    </div>
                    Messages
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg bg-blue-100 text-blue-700 font-semibold">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-star-line"></i>
                    </div>
                    Reviews
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-wallet-line"></i>
                    </div>
                    Payouts
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-bar-chart-line"></i>
                    </div>
                    Analytics
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-settings-3-line"></i>
                    </div>
                    Profile Settings
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-question-line"></i>
                    </div>
                    Support
                </a>
            </nav>
        </aside> -->

        <aside id="sidebar"
            class="w-64 bg-white shadow-md h-full flex flex-col transition-all duration-300 ease-in-out">
            <div class="p-6 flex items-center border-b">
                <span class="text-2xl font-['Pacifico'] text-primary">logo</span>
            </div>

            <nav class="flex-1 overflow-y-auto py-4">
                <ul class="space-y-1 px-3">

                    <!-- Home -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Home-Dashboard.html"
                            class="text-gray-700 sidebar-link flex items-center px-4 py-3 text-sm font-medium rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-dashboard-line"></i>
                            </div>
                            Home
                        </a>
                    </li>

                    <!-- My Listings -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\My-Listings.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-ticket-line"></i>
                            </div>
                            My Listings
                        </a>
                    </li>

                    <!-- Bookings -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Bookings.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-calendar-check-line"></i>
                            </div>
                            Bookings
                        </a>
                    </li>

                    <!-- Requests -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Requests.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-questionnaire-line"></i>
                            </div>
                            Requests
                        </a>
                    </li>

                    <!-- Messages -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Messages.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-message-3-line"></i>
                            </div>
                            Messages
                        </a>
                    </li>

                    <!-- Reviews -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Reviews.html"
                            class="active sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-star-line"></i>
                            </div>
                            Reviews
                        </a>
                    </li>


                    <!-- payouts -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Payouts.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-wallet-line"></i>
                            </div>
                            Payouts
                        </a>
                    </li>

                    <!-- Analytics -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Analytics.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-bar-chart-line"></i>
                            </div>
                            Analytics
                        </a>
                    </li>

                    <!-- Profile Settings -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Profile-Settings.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-settings-3-line"></i>
                            </div>
                            Profile Settings
                        </a>
                    </li>

                    <!-- Support -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Support.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-lifebuoy-line"></i>
                            </div>
                            Support
                        </a>
                    </li>


                </ul>
            </nav>




            <div class="p-4 border-t">
                <button id="collapse-sidebar"
                    class="flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-button hover:bg-gray-200 transition-colors whitespace-nowrap">
                    <div class="w-5 h-5 flex items-center justify-center mr-2">
                        <i class="ri-arrow-left-line"></i>
                    </div>
                    Collapse Sidebar
                </button>
            </div>
        </aside>
        <script id="sidebar-toggle-script">
            document.addEventListener('DOMContentLoaded', function () {
                const sidebar = document.getElementById('sidebar');
                const collapseBtn = document.getElementById('collapse-sidebar');
                const expandBtn = document.getElementById('expand-sidebar');
                // Add submenu toggle functionality
                const sidebarButtons = document.querySelectorAll('button.sidebar-link');
                sidebarButtons.forEach(button => {
                    const submenu = button.nextElementSibling;
                    button.addEventListener('click', function (e) {
                        e.preventDefault();
                        submenu.classList.toggle('hidden');
                        button.setAttribute('data-expanded', submenu.classList.contains('hidden') ? 'false' : 'true');
                        // Find and rotate the arrow icon
                        const arrowIcon = button.querySelector('.group-data-\\[expanded\\=true\\]\\:rotate-180');
                        if (submenu.classList.contains('hidden')) {
                            arrowIcon.style.transform = 'rotate(0deg)';
                        } else {
                            arrowIcon.style.transform = 'rotate(180deg)';
                        }
                    });
                });
                collapseBtn.addEventListener('click', function () {
                    sidebar.classList.add('w-20');
                    sidebar.classList.remove('w-64');
                    // Hide text and show only icons
                    document.querySelectorAll('.sidebar-link span').forEach(el => {
                        el.classList.add('hidden');
                    });
                    collapseBtn.classList.add('hidden');
                    expandBtn.classList.remove('hidden');
                });
                expandBtn.addEventListener('click', function () {
                    sidebar.classList.remove('w-20');
                    sidebar.classList.add('w-64');
                    // Show text again
                    document.querySelectorAll('.sidebar-link span').forEach(el => {
                        el.classList.remove('hidden');
                    });
                    collapseBtn.classList.remove('hidden');
                    expandBtn.classList.add('hidden');
                });
            });
        </script>
        <script id="profile-dropdown-script">
            document.addEventListener('DOMContentLoaded', function () {
                const profileMenuButton = document.getElementById('profile-menu-button');
                const profileDropdown = document.getElementById('profile-dropdown');
                profileMenuButton.addEventListener('click', function () {
                    profileDropdown.classList.toggle('hidden');
                });
                // Close dropdown when clicking outside
                document.addEventListener('click', function (event) {
                    if (!profileMenuButton.contains(event.target) && !profileDropdown.contains(event.target)) {
                        profileDropdown.classList.add('hidden');
                    }
                });
            });
        </script>

        <header class="fixed top-0 left-64 right-0 bg-white shadow-sm z-40">
            <div class="flex items-center justify-between px-6 py-4">
                <!-- <div> -->
                <!-- Search here -->
                <div class="flex items-center flex-1">
                    <button id="expand-sidebar"
                        class="hidden mr-4 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700 focus:outline-none">
                        <i class="ri-menu-line ri-lg"></i>
                    </button>
                    <div class="relative max-w-md w-full">
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                            <div class="w-5 h-5 flex items-center justify-center text-gray-400">
                                <i class="ri-search-line"></i>
                            </div>
                        </div>
                        <input type="search"
                            class="block w-full pl-10 pr-4 py-2 border-none rounded-button bg-gray-100 focus:bg-white focus:ring-2 focus:ring-primary focus:ring-opacity-20 text-sm"
                            placeholder="Search...">
                    </div>
                </div>
                <!-- <nav class="text-sm text-gray-500 mb-1">
                        <span>Dashboard</span>
                        <span class="mx-2">/</span>
                        <span>My Listings</span>
                        <span class="mx-2">/</span>
                        <span class="text-gray-900">Add New Listing</span>
                    </nav>
                    <h1 class="text-2xl font-semibold text-gray-900">Add New Listing</h1> -->
                <!-- Date, Notification, and User Profile here -->
                <div class="flex items-center space-x-4">
                    <div class="text-sm text-gray-600 hidden md:block">
                        July 2, 2025 • Wednesday
                    </div>
                    <div class="relative">
                        <button
                            class="w-10 h-10 flex items-center justify-center rounded-full text-gray-500 hover:bg-gray-100 focus:outline-none">
                            <div class="w-6 h-6 flex items-center justify-center relative">
                                <i class="ri-notification-3-line"></i>
                                <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
                            </div>
                        </button>
                    </div>
                    <div class="relative">
                        <button id="profile-menu-button" class="flex items-center space-x-2 focus:outline-none">
                            <!-- <div
                                    class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden">
                                    <div class="w-6 h-6 flex items-center justify-center text-gray-600">
                                        <i class="ri-user-line"></i>
                                    </div>
                                </div> -->
                            <div class="w-10 h-10 bg-primary rounded-full overflow-hidden">
                                <img src="https://readdy.ai/api/search-image?query=professional%20business%20headshot%20of%20John%20Smith%2C%20male%20executive%2C%20confident%20smile%2C%20business%20attire%2C%20clean%20background&width=80&height=80&seq=1&orientation=squarish"
                                    alt="John Smith" class="w-full h-full object-cover">
                            </div>
                            <div class="hidden md:block text-left">
                                <!-- <div class="text-sm font-medium">Emma Thompson</div> -->
                                <span class="text-sm font-medium text-gray-900">John Smith</span>

                                <div class="text-xs text-gray-500">Admin</div>
                            </div>
                            <div class="w-5 h-5 flex items-center justify-center text-gray-500">
                                <i class="ri-arrow-down-s-line"></i>
                            </div>
                        </button>
                        <div id="profile-dropdown"
                            class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden z-20">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Your
                                Profile</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Sign out</a>
                        </div>
                    </div>
                </div>

                <!-- </div> -->
                <!-- <div class="flex items-center space-x-4">
                    <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full cursor-pointer">
                        <i class="ri-notification-3-line text-gray-600 ri-lg"></i>
                    </div>

                    <div class="flex items-center space-x-3 cursor-pointer">
                        <div class="w-10 h-10 bg-primary rounded-full overflow-hidden">
                            <img src="https://readdy.ai/api/search-image?query=professional%20business%20headshot%20of%20John%20Smith%2C%20male%20executive%2C%20confident%20smile%2C%20business%20attire%2C%20clean%20background&width=80&height=80&seq=1&orientation=squarish"
                                alt="John Smith" class="w-full h-full object-cover">
                        </div>
                        <span class="text-sm font-medium text-gray-900">John Smith</span>
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-arrow-down-s-line text-gray-600"></i>
                        </div>
                    </div>
                    
                </div> -->
            </div>
        </header>



        <main class="flex-1 p-4 md:p-8 mt-16 overflow-y-auto">
            <header class="mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                <div>
                    <h1 class="text-3xl font-bold text-gray-900">Customer Reviews</h1>
                    <p class="text-gray-600 mt-2">View and respond to feedback from your customers. Maintain your
                        reputation and improve your offerings.</p>
                </div>
                <button id="exportReviewsBtn"
                    class="ctaz bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-normal hover:bg-gray-300 transition-colors flex items-center gap-2 !rounded-button whitespace-nowrap">
                    <div class="w-4 h-4 flex items-center justify-center">
                        <i class="ri-download-2-line"></i>
                    </div>
                    Export Reviews
                </button>
            </header>
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Overall Review Performance</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-blue-600">4.7</div>
                        <div class="text-sm text-gray-600">Average Rating</div>
                        <div class="flex justify-center mt-1 star-rating text-lg">
                            ★★★★★
                        </div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-green-600">2473</div>
                        <div class="text-sm text-gray-600">Total Reviews</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-purple-600">89%</div>
                        <div class="text-sm text-gray-600">Response Rate</div>
                    </div>
                </div>
            </section>
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <div class="mb-6">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <div class="w-4 h-4 flex items-center justify-center text-gray-400">
                                <i class="ri-search-line"></i>
                            </div>
                        </div>
                        <input type="text" id="reviewSearchInput"
                            class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"
                            placeholder="Search by customer, listing, or keywords...">
                    </div>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Rating</label>
                        <select id="ratingFilter"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                            <option value="">All Ratings</option>
                            <option value="5">5 Stars</option>
                            <option value="4">4 Stars</option>
                            <option value="3">3 Stars</option>
                            <option value="2">2 Stars</option>
                            <option value="1">1 Star</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Listing</label>
                        <select id="listingFilter"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                            <option value="">All Listings</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Response Status</label>
                        <select id="responseStatusFilter"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                            <option value="">All Statuses</option>
                            <option value="Pending Reply">Pending Reply</option>
                            <option value="Replied">Replied</option>
                            <option value="Reported">Reported</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Date Range</label>
                        <div class="flex gap-2">
                            <input type="date" id="reviewDateFromFilter"
                                class="block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                            <input type="date" id="reviewDateToFilter"
                                class="block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                    </div>
                    <div class="hidden">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Date Range</label>
                        <div class="flex gap-2">
                            <input type="date" id="reviewDateFromFilter"
                                class="block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">

                        </div>
                    </div>
                </div>
            </section>
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <div id="reviewsContainer" class="space-y-6">
                </div>
                <nav class="flex items-center justify-between pt-4" aria-label="Reviews navigation">
                    <span id="reviewsPaginationInfo" class="text-sm font-normal text-gray-500"></span>
                    <ul id="reviewsPagination" class="inline-flex items-center -space-x-px"></ul>
                </nav>
            </section>
        </main>
    </div>
    <div id="replyModal" class="modal-overlay">
        <div class="modal-content max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold text-gray-900">Reply to Review</h3>
                <button id="closeReplyModal" class="text-gray-400 hover:text-gray-600">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line text-xl"></i>
                    </div>
                </button>
            </div>
            <div class="space-y-4 mb-6">
                <div>
                    <span class="font-semibold text-gray-800">Customer:</span>
                    <span id="replyModalCustomer" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-800">Listing:</span>
                    <span id="replyModalListing" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <div class="font-semibold text-gray-800 mb-2">Review:</div>
                    <p id="replyModalReview" class="text-gray-600 bg-gray-50 p-3 rounded-lg text-sm"></p>
                </div>
            </div>
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">Your Response</label>
                <textarea id="replyContent" rows="4"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"
                    placeholder="Write your response to this review..."></textarea>
            </div>
            <div class="flex gap-3">
                <button id="submitReplyBtn"
                    class="ctaz bg-blue-600 text-white px-4 py-2 rounded-lg font-normal hover:bg-blue-700 transition-colors !rounded-button whitespace-nowrap">Submit
                    Reply</button>
                <button id="cancelReplyBtn"
                    class="ctaz bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-normal hover:bg-gray-300 transition-colors !rounded-button whitespace-nowrap">Cancel</button>
            </div>
        </div>
    </div>
    <div id="reportModal" class="modal-overlay">
        <div class="modal-content max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold text-gray-900">Report Review</h3>
                <button id="closeReportModal" class="text-gray-400 hover:text-gray-600">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line text-xl"></i>
                    </div>
                </button>
            </div>
            <div class="space-y-4 mb-6">
                <div>
                    <span class="font-semibold text-gray-800">Customer:</span>
                    <span id="reportModalCustomer" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-800">Listing:</span>
                    <span id="reportModalListing" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <div class="font-semibold text-gray-800 mb-2">Review:</div>
                    <p id="reportModalReview" class="text-gray-600 bg-gray-50 p-3 rounded-lg text-sm"></p>
                </div>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Reason for Report</label>
                <select id="reportReason"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                    <option value="">Select a reason</option>
                    <option value="Inappropriate Content">Inappropriate Content</option>
                    <option value="Fake Review">Fake Review</option>
                    <option value="Spam">Spam</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">Additional Details</label>
                <textarea id="reportDetails" rows="3"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"
                    placeholder="Provide additional details about why you're reporting this review..."></textarea>
            </div>
            <div class="flex gap-3">
                <button id="submitReportBtn"
                    class="ctaz bg-red-600 text-white px-4 py-2 rounded-lg font-normal hover:bg-red-700 transition-colors !rounded-button whitespace-nowrap">Submit
                    Report</button>
                <button id="cancelReportBtn"
                    class="ctaz bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-normal hover:bg-gray-300 transition-colors !rounded-button whitespace-nowrap">Cancel</button>
            </div>
        </div>
    </div>
    <div id="statusModal" class="modal-overlay">
        <div class="modal-content max-w-sm">
            <h3 id="statusModalTitle" class="text-lg font-semibold text-gray-900 mb-4"></h3>
            <p id="statusModalMessage" class="text-gray-600 mb-6"></p>
            <button id="closeStatusModal"
                class="bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors !rounded-button whitespace-nowrap w-full">Close</button>
        </div>
    </div>
    <script id="mockData">
        const mockListings = [
            { id: 1, name: "Doha City Tour" },
            { id: 2, name: "Desert Safari Adventure" },
            { id: 3, name: "Souq Waqif Cultural Walk" },
            { id: 4, name: "Museum of Islamic Art Visit" },
            { id: 5, name: "Pearl Diving Experience" },
            { id: 6, name: "Katara Cultural Village Tour" },
            { id: 7, name: "Al Zubarah Archaeological Site" },
            { id: 8, name: "Falcon Souq Experience" }
        ];
        const mockCustomers = [
            { id: 1, name: "Sarah Johnson", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20young%20caucasian%20woman%20with%20blonde%20hair%20and%20blue%20eyes%2C%20wearing%20business%20casual%20attire%2C%20natural%20makeup%2C%20friendly%20smile%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=1&orientation=squarish" },
            { id: 2, name: "Michael Chen", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20young%20asian%20man%20with%20black%20hair%2C%20wearing%20a%20light%20blue%20business%20shirt%2C%20warm%20smile%2C%20looking%20directly%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=2&orientation=squarish" },
            { id: 3, name: "Emma Rodriguez", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20latina%20woman%20in%20her%20early%2030s%2C%20long%20dark%20hair%2C%20wearing%20professional%20attire%2C%20natural%20makeup%2C%20confident%20smile%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=3&orientation=squarish" },
            { id: 4, name: "David Thompson", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20middle-aged%20caucasian%20man%20with%20salt%20and%20pepper%20hair%2C%20wearing%20a%20navy%20suit%20jacket%2C%20friendly%20expression%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=4&orientation=squarish" },
            { id: 5, name: "Lisa Wang", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20young%20asian%20woman%20with%20shoulder-length%20black%20hair%2C%20wearing%20elegant%20business%20attire%2C%20natural%20makeup%2C%20genuine%20smile%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=5&orientation=squarish" },
            { id: 6, name: "James Anderson", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20young%20african%20american%20man%20wearing%20a%20gray%20suit%2C%20confident%20smile%2C%20short%20neat%20hair%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=6&orientation=squarish" },
            { id: 7, name: "Maria Garcia", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20latina%20woman%20in%20her%2040s%20with%20medium%20length%20brown%20hair%2C%20wearing%20professional%20business%20attire%2C%20warm%20smile%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=7&orientation=squarish" },
            { id: 8, name: "Robert Kim", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20korean%20man%20in%20his%20early%2030s%2C%20wearing%20business%20casual%20attire%2C%20short%20black%20hair%2C%20friendly%20expression%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=8&orientation=squarish" },
            { id: 9, name: "Jennifer Lee", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20young%20asian%20american%20woman%20with%20long%20black%20hair%2C%20wearing%20modern%20business%20attire%2C%20natural%20makeup%2C%20bright%20smile%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=9&orientation=squarish" },
            { id: 10, name: "Ahmed Al-Rashid", avatar: "https://readdy.ai/api/search-image?query=professional%20headshot%20portrait%20of%20a%20middle%20eastern%20man%20in%20his%2030s%2C%20wearing%20traditional%20business%20attire%2C%20short%20dark%20hair%20and%20neat%20beard%2C%20warm%20smile%2C%20looking%20at%20camera%2C%20clean%20background%2C%20high%20quality%20professional%20photo&width=200&height=200&seq=10&orientation=squarish" }
        ];
        const reviews = [
            {
                id: "REV001",
                customerId: 1,
                listingId: 2,
                rating: 5,
                reviewText: "This was an absolutely amazing experience! The desert safari exceeded all my expectations. Our guide Mohammed was fantastic - knowledgeable, friendly, and made sure everyone felt safe throughout the adventure. The sunset views were breathtaking, and the traditional dinner under the stars was magical. Highly recommend this to anyone visiting Qatar!",
                reviewDate: "2024-07-28T16:30:00Z",
                providerResponse: null,
                status: "Pending Reply"
            },
            {
                id: "REV002",
                customerId: 2,
                listingId: 1,
                rating: 4,
                reviewText: "Great city tour with comprehensive coverage of Doha's main attractions. The guide was very informative and spoke excellent English. We visited all the major landmarks and learned a lot about Qatar's history and culture. Only minor complaint was that we felt a bit rushed at some locations, but overall a solid experience.",
                reviewDate: "2024-07-27T14:20:00Z",
                providerResponse: {
                    text: "Thank you so much for your wonderful feedback! We're thrilled you enjoyed learning about Qatar's rich history and culture. We appreciate your comment about the pacing - we'll definitely take this into consideration for future tours. We'd love to welcome you back for another adventure!",
                    date: "2024-07-28T09:15:00Z"
                },
                status: "Replied"
            },
            {
                id: "REV003",
                customerId: 3,
                listingId: 3,
                rating: 5,
                reviewText: "The Souq Waqif cultural walk was incredible! Our guide Fatima was so passionate about sharing the history and traditions of this amazing place. We learned about traditional crafts, tasted authentic Qatari coffee, and even watched a falconry demonstration. The spice market was a sensory delight. This is a must-do experience in Doha!",
                reviewDate: "2024-07-26T18:45:00Z",
                providerResponse: {
                    text: "We're so happy you had such a wonderful time with Fatima! She truly is passionate about sharing our culture and traditions. The falconry demonstration and spice market are definitely highlights. Thank you for choosing us and for this lovely review!",
                    date: "2024-07-27T10:30:00Z"
                },
                status: "Replied"
            },
            {
                id: "REV004",
                customerId: 4,
                listingId: 4,
                rating: 3,
                reviewText: "The Museum of Islamic Art visit was educational, but I expected more from the guided tour. The museum itself is stunning with an impressive collection, but our guide seemed to rush through the exhibits. The architecture and views of the Corniche were beautiful though. It's worth visiting, just maybe do it at your own pace.",
                reviewDate: "2024-07-25T11:30:00Z",
                providerResponse: null,
                status: "Pending Reply"
            },
            {
                id: "REV005",
                customerId: 5,
                listingId: 5,
                rating: 5,
                reviewText: "What an extraordinary experience! The pearl diving adventure was both educational and thrilling. Learning about Qatar's pearl diving heritage while actually trying it ourselves was incredible. The instructors were patient and knowledgeable, making sure everyone felt comfortable in the water. A unique way to connect with Qatar's maritime history!",
                reviewDate: "2024-07-24T15:20:00Z",
                providerResponse: {
                    text: "Thank you for this amazing review! We're so pleased you enjoyed connecting with Qatar's pearl diving heritage. Our instructors take great pride in sharing this important part of our history while ensuring everyone has a safe and memorable experience. We hope to see you again soon!",
                    date: "2024-07-25T08:45:00Z"
                },
                status: "Replied"
            },
            {
                id: "REV006",
                customerId: 6,
                listingId: 6,
                rating: 4,
                reviewText: "Katara Cultural Village tour was very informative and well-organized. We got to see beautiful art galleries, traditional architecture, and even caught a cultural performance. The guide was knowledgeable about the various cultural centers and their significance. The amphitheater is particularly impressive. Would recommend for culture enthusiasts.",
                reviewDate: "2024-07-23T13:10:00Z",
                providerResponse: null,
                status: "Pending Reply"
            },
            {
                id: "REV007",
                customerId: 7,
                listingId: 7,
                rating: 4,
                reviewText: "Al Zubarah Archaeological Site was fascinating for history buffs like myself. The UNESCO World Heritage site is well-preserved and the guide did an excellent job explaining the historical significance of this ancient trading port. The fort and archaeological remains paint a vivid picture of Qatar's past. Definitely worth the trip!",
                reviewDate: "2024-07-22T10:45:00Z",
                providerResponse: {
                    text: "We're delighted you found the Al Zubarah experience so enriching! It's wonderful to share this UNESCO World Heritage site with fellow history enthusiasts. The ancient trading port truly does offer a fascinating glimpse into Qatar's rich past. Thank you for your thoughtful review!",
                    date: "2024-07-23T09:20:00Z"
                },
                status: "Replied"
            },
            {
                id: "REV008",
                customerId: 8,
                listingId: 8,
                rating: 5,
                reviewText: "The Falcon Souq experience was absolutely captivating! As someone who knew very little about falconry, I was amazed by the deep cultural significance and the incredible bond between the falconers and their birds. The demonstration was spectacular, and we even got to hold a falcon! The souq itself is a treasure trove of traditional crafts.",
                reviewDate: "2024-07-21T16:00:00Z",
                providerResponse: null,
                status: "Pending Reply"
            },
            {
                id: "REV009",
                customerId: 9,
                listingId: 1,
                rating: 2,
                reviewText: "Unfortunately, this tour didn't meet our expectations. The guide seemed disinterested and provided minimal information about the sites we visited. We felt like we were just being shuttled from one location to another without really learning anything meaningful. The vehicle was also quite uncomfortable. For the price paid, we expected much better service.",
                reviewDate: "2024-07-20T12:30:00Z",
                providerResponse: null,
                status: "Reported"
            },
            {
                id: "REV010",
                customerId: 10,
                listingId: 2,
                rating: 5,
                reviewText: "Outstanding desert safari experience! From the moment we were picked up to the final drop-off, everything was perfectly organized. The dune bashing was thrilling, the camel riding was fun, and the traditional camp setup was authentic and beautiful. The BBQ dinner was delicious, and the entertainment was fantastic. Truly a night to remember!",
                reviewDate: "2024-07-19T19:15:00Z",
                providerResponse: {
                    text: "Thank you so much for this wonderful review! We're absolutely thrilled that you had such a memorable desert safari experience. Our team works hard to ensure every aspect of the adventure is perfect, from the thrilling dune bashing to the authentic camp experience. We're so glad it was a night to remember!",
                    date: "2024-07-20T08:30:00Z"
                },
                status: "Replied"
            }
        ];
    </script>
    <script id="reviewsPageLogic">
        document.addEventListener('DOMContentLoaded', function () {
            const reviewSearchInput = document.getElementById('reviewSearchInput');
            const ratingFilter = document.getElementById('ratingFilter');
            const listingFilter = document.getElementById('listingFilter');
            const responseStatusFilter = document.getElementById('responseStatusFilter');
            const reviewDateFromFilter = document.getElementById('reviewDateFromFilter');
            const reviewDateToFilter = document.getElementById('reviewDateToFilter');
            const reviewsContainer = document.getElementById('reviewsContainer');
            const reviewsPaginationInfo = document.getElementById('reviewsPaginationInfo');
            const reviewsPagination = document.getElementById('reviewsPagination');
            const exportReviewsBtn = document.getElementById('exportReviewsBtn');
            const replyModal = document.getElementById('replyModal');
            const closeReplyModal = document.getElementById('closeReplyModal');
            const replyModalCustomer = document.getElementById('replyModalCustomer');
            const replyModalListing = document.getElementById('replyModalListing');
            const replyModalReview = document.getElementById('replyModalReview');
            const replyContent = document.getElementById('replyContent');
            const submitReplyBtn = document.getElementById('submitReplyBtn');
            const cancelReplyBtn = document.getElementById('cancelReplyBtn');
            const reportModal = document.getElementById('reportModal');
            const closeReportModal = document.getElementById('closeReportModal');
            const reportModalCustomer = document.getElementById('reportModalCustomer');
            const reportModalListing = document.getElementById('reportModalListing');
            const reportModalReview = document.getElementById('reportModalReview');
            const reportReason = document.getElementById('reportReason');
            const reportDetails = document.getElementById('reportDetails');
            const submitReportBtn = document.getElementById('submitReportBtn');
            const cancelReportBtn = document.getElementById('cancelReportBtn');
            const statusModal = document.getElementById('statusModal');
            const statusModalTitle = document.getElementById('statusModalTitle');
            const statusModalMessage = document.getElementById('statusModalMessage');
            const closeStatusModal = document.getElementById('closeStatusModal');
            let currentPage = 1;
            const itemsPerPage = 5;
            let currentReviewId = '';
            function getStatusPill(status) {
                const statusConfig = {
                    'Pending Reply': { bg: 'bg-blue-100', text: 'text-blue-700', dot: 'bgx-blue-500' },
                    'Replied': { bg: 'bg-green-100', text: 'text-green-700', dot: 'bgx-green-500' },
                    'Reported': { bg: 'bg-red-100', text: 'text-red-700', dot: 'bgx-red-500' }
                };
                const config = statusConfig[status] || statusConfig['Pending Reply'];
                return `<span class="status-pill ${config.bg} ${config.text}">
<span class="ri-question-answer-line mr-2 ${config.dot}"></span>
${status}
</span>`;
            }
            function formatDate(isoString) {
                return new Date(isoString).toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            }
            function generateStars(rating) {
                let stars = '';
                for (let i = 1; i <= 5; i++) {
                    stars += i <= rating ? '★' : '☆';
                }
                return stars;
            }
            function openModal(modalElement) {
                modalElement.classList.add('active');
            }
            function closeModal(modalElement) {
                modalElement.classList.remove('active');
            }
            function populateListingFilter() {
                listingFilter.innerHTML = '<option value="">All Listings</option>';
                mockListings.forEach(listing => {
                    const option = document.createElement('option');
                    option.value = listing.id;
                    option.textContent = listing.name;
                    listingFilter.appendChild(option);
                });
            }
            function getFilteredReviews() {
                let filtered = [...reviews];
                const searchTerm = reviewSearchInput.value.toLowerCase();
                if (searchTerm) {
                    filtered = filtered.filter(review => {
                        const customer = mockCustomers.find(c => c.id === review.customerId);
                        const listing = mockListings.find(l => l.id === review.listingId);
                        return customer?.name.toLowerCase().includes(searchTerm) ||
                            listing?.name.toLowerCase().includes(searchTerm) ||
                            review.reviewText.toLowerCase().includes(searchTerm);
                    });
                }
                if (ratingFilter.value) {
                    filtered = filtered.filter(review => review.rating === parseInt(ratingFilter.value));
                }
                if (listingFilter.value) {
                    filtered = filtered.filter(review => review.listingId === parseInt(listingFilter.value));
                }
                if (responseStatusFilter.value) {
                    filtered = filtered.filter(review => review.status === responseStatusFilter.value);
                }
                if (reviewDateFromFilter.value) {
                    filtered = filtered.filter(review => review.reviewDate >= reviewDateFromFilter.value);
                }
                if (reviewDateToFilter.value) {
                    filtered = filtered.filter(review => review.reviewDate <= reviewDateToFilter.value + 'T23:59:59Z');
                }
                return filtered.sort((a, b) => new Date(b.reviewDate) - new Date(a.reviewDate));
            }
            function renderReviews() {
                const filtered = getFilteredReviews();
                const startIndex = (currentPage - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;
                const pageReviews = filtered.slice(startIndex, endIndex);
                reviewsContainer.innerHTML = '';
                pageReviews.forEach(review => {
                    const customer = mockCustomers.find(c => c.id === review.customerId);
                    const listing = mockListings.find(l => l.id === review.listingId);
                    const reviewCard = document.createElement('div');
                    reviewCard.className = 'review-card bg-gray-50 p-5 rounded-lg shadow-sm';
                    let providerResponseHtml = '';
                    if (review.providerResponse) {
                        providerResponseHtml = `
<div class="provider-response bg-blue-50 p-3 rounded-lg text-sm mb-4">
<div class="font-semibold text-blue-800 mb-1">Your Response:</div>
<p class="text-blue-700">${review.providerResponse.text}</p>
<span class="text-xs text-blue-600 mt-1 block text-right">Replied on ${formatDate(review.providerResponse.date)}</span>
</div>
`;
                    }
                    reviewCard.innerHTML = `
<div class="flex items-center justify-between mb-3">
<div class="flex items-center">
<img src="${customer?.avatar || 'https://placehold.co/40x40/e2e8f0/8b5cf6?text=U'}" alt="Customer Avatar" class="w-10 h-10 rounded-full mr-3 object-cover">
<div>
<div class="font-semibold text-gray-900">${customer?.name || 'Unknown Customer'}</div>
<div class="text-sm text-gray-600">${listing?.name || 'Unknown Listing'}</div>
</div>
</div>
<div class="flex flex-col items-end">
<div class="flex star-rating text-lg">
${generateStars(review.rating)}
</div>
<span class="text-xs text-gray-500 mt-1">Reviewed on ${formatDate(review.reviewDate)}</span>
</div>
</div>
<p class="text-gray-700 text-base mb-4">"${review.reviewText}"</p>
${providerResponseHtml}
<div class="flex justify-end gap-2">
${getStatusPill(review.status)}
<button data-id="${review.id}" class="flex justify-center items-center action-reply bg-blue-600 text-white px-3 py-1.5 rounded-lg font-normal hover:bg-blue-700 transition-colors text-sm !rounded-button whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-1 inline-block">
<i class="ri-chat-3-line"></i>
</div>
Reply
</button>
<button data-id="${review.id}" class="flex justify-center items-center action-report bg-red-100 text-red-700 px-3 py-1.5 rounded-lg font-normal hover:bg-red-200 transition-colors text-sm !rounded-button whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-1 inline-block">
<i class="ri-flag-line"></i>
</div>
Report
</button>
</div>
`;
                    reviewsContainer.appendChild(reviewCard);
                });
                updatePagination(filtered.length);
            }
            function updatePagination(totalItems) {
                const totalPages = Math.ceil(totalItems / itemsPerPage);
                const startItem = totalItems === 0 ? 0 : (currentPage - 1) * itemsPerPage + 1;
                const endItem = Math.min(currentPage * itemsPerPage, totalItems);
                reviewsPaginationInfo.textContent = `Showing ${startItem}-${endItem} of ${totalItems} reviews`;
                reviewsPagination.innerHTML = '';
                if (totalPages <= 1) return;
                const prevBtn = document.createElement('li');
                prevBtn.innerHTML = `
<button class="px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 ${currentPage === 1 ? 'cursor-not-allowed opacity-50' : ''}" ${currentPage === 1 ? 'disabled' : ''}>
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-arrow-left-s-line"></i>
</div>
</button>
`;
                reviewsPagination.appendChild(prevBtn);
                for (let i = 1; i <= totalPages; i++) {
                    if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                        const pageBtn = document.createElement('li');
                        pageBtn.innerHTML = `
<button class="px-3 py-2 leading-tight border border-gray-300 ${i === currentPage ? 'text-blue-600 bg-blue-50' : 'text-gray-500 bg-white hover:bg-gray-100 hover:text-gray-700'}" data-page="${i}">
${i}
</button>
`;
                        reviewsPagination.appendChild(pageBtn);
                    } else if (i === currentPage - 2 || i === currentPage + 2) {
                        const dots = document.createElement('li');
                        dots.innerHTML = '<span class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300">...</span>';
                        reviewsPagination.appendChild(dots);
                    }
                }
                const nextBtn = document.createElement('li');
                nextBtn.innerHTML = `
<button class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 ${currentPage === totalPages ? 'cursor-not-allowed opacity-50' : ''}" ${currentPage === totalPages ? 'disabled' : ''}>
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-arrow-right-s-line"></i>
</div>
</button>
`;
                reviewsPagination.appendChild(nextBtn);
            }
            function openReplyModal(reviewId) {
                const review = reviews.find(r => r.id === reviewId);
                if (!review) return;
                const customer = mockCustomers.find(c => c.id === review.customerId);
                const listing = mockListings.find(l => l.id === review.listingId);
                currentReviewId = reviewId;
                replyModalCustomer.textContent = customer?.name || 'Unknown Customer';
                replyModalListing.textContent = listing?.name || 'Unknown Listing';
                replyModalReview.textContent = review.reviewText;
                replyContent.value = review.providerResponse?.text || '';
                openModal(replyModal);
            }
            function submitReply(reviewId, replyText) {
                const review = reviews.find(r => r.id === reviewId);
                if (!review || !replyText.trim()) return;
                review.providerResponse = {
                    text: replyText.trim(),
                    date: new Date().toISOString()
                };
                review.status = 'Replied';
                renderReviews();
                closeModal(replyModal);
                statusModalTitle.textContent = 'Reply Submitted';
                statusModalMessage.textContent = 'Your reply has been successfully submitted and is now visible to customers.';
                openModal(statusModal);
            }
            function openReportModal(reviewId) {
                const review = reviews.find(r => r.id === reviewId);
                if (!review) return;
                const customer = mockCustomers.find(c => c.id === review.customerId);
                const listing = mockListings.find(l => l.id === review.listingId);
                currentReviewId = reviewId;
                reportModalCustomer.textContent = customer?.name || 'Unknown Customer';
                reportModalListing.textContent = listing?.name || 'Unknown Listing';
                reportModalReview.textContent = review.reviewText;
                reportReason.value = '';
                reportDetails.value = '';
                openModal(reportModal);
            }
            function submitReport(reviewId, reason, details) {
                const review = reviews.find(r => r.id === reviewId);
                if (!review || !reason) return;
                review.status = 'Reported';
                review.reportedReason = reason;
                review.reportDetails = details;
                renderReviews();
                closeModal(reportModal);
                statusModalTitle.textContent = 'Review Reported';
                statusModalMessage.textContent = 'Thank you for reporting this review. Our team will review it and take appropriate action if necessary.';
                openModal(statusModal);
            }
            populateListingFilter();
            renderReviews();
            let searchTimeout;
            reviewSearchInput.addEventListener('input', () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    currentPage = 1;
                    renderReviews();
                }, 300);
            });
            [ratingFilter, listingFilter, responseStatusFilter, reviewDateFromFilter, reviewDateToFilter].forEach(filter => {
                filter.addEventListener('change', () => {
                    currentPage = 1;
                    renderReviews();
                });
            });
            reviewsPagination.addEventListener('click', (e) => {
                if (e.target.dataset.page) {
                    currentPage = parseInt(e.target.dataset.page);
                    renderReviews();
                } else if (e.target.closest('button')) {
                    const btn = e.target.closest('button');
                    if (btn.innerHTML.includes('arrow-left') && currentPage > 1) {
                        currentPage--;
                        renderReviews();
                    } else if (btn.innerHTML.includes('arrow-right')) {
                        const totalPages = Math.ceil(getFilteredReviews().length / itemsPerPage);
                        if (currentPage < totalPages) {
                            currentPage++;
                            renderReviews();
                        }
                    }
                }
            });
            reviewsContainer.addEventListener('click', (e) => {
                const button = e.target.closest('button');
                if (!button) return;
                const reviewId = button.dataset.id;
                if (!reviewId) return;
                if (button.classList.contains('action-reply')) {
                    openReplyModal(reviewId);
                } else if (button.classList.contains('action-report')) {
                    openReportModal(reviewId);
                }
            });
            exportReviewsBtn.addEventListener('click', () => {
                statusModalTitle.textContent = 'Export Started';
                statusModalMessage.textContent = 'Your reviews export has been initiated. You will receive a download link via email shortly.';
                openModal(statusModal);
            });
            [closeReplyModal, cancelReplyBtn].forEach(btn => {
                btn.addEventListener('click', () => closeModal(replyModal));
            });
            submitReplyBtn.addEventListener('click', () => {
                const replyText = replyContent.value.trim();
                if (!replyText) {
                    alert('Please enter a reply before submitting.');
                    return;
                }
                submitReply(currentReviewId, replyText);
            });
            [closeReportModal, cancelReportBtn].forEach(btn => {
                btn.addEventListener('click', () => closeModal(reportModal));
            });
            submitReportBtn.addEventListener('click', () => {
                const reason = reportReason.value;
                const details = reportDetails.value.trim();
                if (!reason) {
                    alert('Please select a reason for reporting this review.');
                    return;
                }
                submitReport(currentReviewId, reason, details);
            });
            closeStatusModal.addEventListener('click', () => closeModal(statusModal));
            [replyModal, reportModal, statusModal].forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal);
                    }
                });
            });
        });
    </script>
</body>

</html>