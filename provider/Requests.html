<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Requests</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '##4f46e5',
                        secondary: '#8b5cf6'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <style>
        :where([class^="ri-"])::before {
            content: "\f3c2";
        }

        body {
            /* font-family: 'Inter', sans-serif; */
            background-color: #f8fafc;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .rounded-button {
            border-radius: 9999px;
        }

        .status-pill {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .status-pill .dot {
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .table-responsive {
            display: block;
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            transform: scale(0.95);
            transition: transform 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        /* Add custom font faces */
        @font-face {
            font-family: 'Poppins';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/poppins-bold.yji-9690ce6275ddc5645cfa.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
        }

        @font-face {
            font-family: 'Poppins';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/poppins-medium.yji-dc16a3592fdb61b620cc.woff2') format('woff2');
            font-weight: 500;
            font-style: normal;
        }

        @font-face {
            font-family: 'Open Sans';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/open-sans-regular.yji-aff9b80e384301f2ae0c.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: 'Open Sans';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/open-sans-semibold.yji-d3abae27d3eac73b40a5.woff2') format('woff2');
            font-weight: 600;
            font-style: normal;
        }

        @font-face {
            font-family: 'Open Sans';
            src: url('https://s3-media0.fl.yelpcdn.com/assets/public/open-sans-bold.yji-1145ff0b749fff2d31bb.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
        }

        /* Example usage */
        .poppins-bold {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
        }

        .poppins-medium {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
        }

        .open-sans {
            font-family: 'Open Sans', sans-serif;
            font-weight: 400;
        }

        .open-sans-semibold {
            font-family: 'Open Sans';
            font-weight: 600;
        }

        .open-sans-bold {
            font-family: 'Open Sans';
            font-weight: 700;
        }

        :where([class^="ri-"])::before {
            content: "\f3c2";
        }

        body {
            /*font-family: 'Inter', sans-serif;*/
            overflow: hidden;
        }

        /* Use Poppins Bold for all headings */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        label,
        aside,
        .ctaz {
            font-family: 'Poppins';
            /*font-weight: 700;*/
        }

        /* Use Open Sans Regular for body */
        body {
            font-family: 'Open Sans';
            /*font-weight: 400;*/
        }

        .sidebar-link.active {
            background-color: rgba(79, 70, 229, 0.1);
            color: #4f46e5;
            border-left: 3px solid #4f46e5;
        }

        .sidebar-link:hover:not(.active) {
            background-color: rgba(79, 70, 229, 0.05);
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            color: #4f46e5;
            font-weight: 500;
            transition: background-color 0.2s, color 0.2s;
        }
    </style>
</head>

<body>
    <div class="flex h-screen">
        <!-- <aside class="w-64 bg-white shadow-md p-4 flex flex-col">
            <div class="text-2xl font-bold text-blue-600 mb-8">Platform</div>
            <nav class="space-y-2">
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-dashboard-line"></i>
                    </div>
                    Dashboard
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-ticket-line"></i>
                    </div>
                    My Listings
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-calendar-check-line"></i>
                    </div>
                    Bookings
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg bg-blue-100 text-blue-700 font-semibold">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-questionnaire-line"></i>
                    </div>
                    Requests
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-star-line"></i>
                    </div>
                    Reviews
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-wallet-line"></i>
                    </div>
                    Payouts
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-bar-chart-line"></i>
                    </div>
                    Analytics
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-settings-3-line"></i>
                    </div>
                    Profile Settings
                </a>
                <a href="#" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                    <div class="w-5 h-5 flex items-center justify-center mr-3">
                        <i class="ri-question-line"></i>
                    </div>
                    Support
                </a>
            </nav>
        </aside> -->

        <aside id="sidebar"
            class="w-64 bg-white shadow-md h-full flex flex-col transition-all duration-300 ease-in-out">
            <div class="p-6 flex items-center border-b">
                <span class="text-2xl font-['Pacifico'] text-primary">logo</span>
            </div>

            <nav class="flex-1 overflow-y-auto py-4">
                <ul class="space-y-1 px-3">

                    <!-- Home -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Home-Dashboard.html"
                            class="text-gray-700 sidebar-link  flex items-center px-4 py-3 text-sm font-medium rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-dashboard-line"></i>
                            </div>
                            Home
                        </a>
                    </li>

                    <!-- My Listings -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\My-Listings.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-ticket-line"></i>
                            </div>
                            My Listings
                        </a>
                    </li>

                    <!-- Bookings -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Bookings.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-calendar-check-line"></i>
                            </div>
                            Bookings
                        </a>
                    </li>

                    <!-- Requests -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Requests.html"
                            class="active sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-questionnaire-line"></i>
                            </div>
                            Requests
                        </a>
                    </li>

                    <!-- Messages -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Messages.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-message-3-line"></i>
                            </div>
                            Messages
                        </a>
                    </li>

                    <!-- Reviews -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Reviews.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-star-line"></i>
                            </div>
                            Reviews
                        </a>
                    </li>


                    <!-- payouts -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Payouts.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-wallet-line"></i>
                            </div>
                            Payouts
                        </a>
                    </li>

                    <!-- Analytics -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Analytics.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-bar-chart-line"></i>
                            </div>
                            Analytics
                        </a>
                    </li>

                    <!-- Profile Settings -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Profile-Settings.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-settings-3-line"></i>
                            </div>
                            Profile Settings
                        </a>
                    </li>

                    <!-- Support -->
                    <li>
                        <a href="C:\Users\user\Downloads\Business-owner\web\Support.html"
                            class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-button">
                            <div class="w-5 h-5 flex items-center justify-center mr-3">
                                <i class="ri-lifebuoy-line"></i>
                            </div>
                            Support
                        </a>
                    </li>


                </ul>
            </nav>




            <div class="p-4 border-t">
                <button id="collapse-sidebar"
                    class="flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-button hover:bg-gray-200 transition-colors whitespace-nowrap">
                    <div class="w-5 h-5 flex items-center justify-center mr-2">
                        <i class="ri-arrow-left-line"></i>
                    </div>
                    Collapse Sidebar
                </button>
            </div>
        </aside>
        <script id="sidebar-toggle-script">
            document.addEventListener('DOMContentLoaded', function () {
                const sidebar = document.getElementById('sidebar');
                const collapseBtn = document.getElementById('collapse-sidebar');
                const expandBtn = document.getElementById('expand-sidebar');
                // Add submenu toggle functionality
                const sidebarButtons = document.querySelectorAll('button.sidebar-link');
                sidebarButtons.forEach(button => {
                    const submenu = button.nextElementSibling;
                    button.addEventListener('click', function (e) {
                        e.preventDefault();
                        submenu.classList.toggle('hidden');
                        button.setAttribute('data-expanded', submenu.classList.contains('hidden') ? 'false' : 'true');
                        // Find and rotate the arrow icon
                        const arrowIcon = button.querySelector('.group-data-\\[expanded\\=true\\]\\:rotate-180');
                        if (submenu.classList.contains('hidden')) {
                            arrowIcon.style.transform = 'rotate(0deg)';
                        } else {
                            arrowIcon.style.transform = 'rotate(180deg)';
                        }
                    });
                });
                collapseBtn.addEventListener('click', function () {
                    sidebar.classList.add('w-20');
                    sidebar.classList.remove('w-64');
                    // Hide text and show only icons
                    document.querySelectorAll('.sidebar-link span').forEach(el => {
                        el.classList.add('hidden');
                    });
                    collapseBtn.classList.add('hidden');
                    expandBtn.classList.remove('hidden');
                });
                expandBtn.addEventListener('click', function () {
                    sidebar.classList.remove('w-20');
                    sidebar.classList.add('w-64');
                    // Show text again
                    document.querySelectorAll('.sidebar-link span').forEach(el => {
                        el.classList.remove('hidden');
                    });
                    collapseBtn.classList.remove('hidden');
                    expandBtn.classList.add('hidden');
                });
            });
        </script>
        <script id="profile-dropdown-script">
            document.addEventListener('DOMContentLoaded', function () {
                const profileMenuButton = document.getElementById('profile-menu-button');
                const profileDropdown = document.getElementById('profile-dropdown');
                profileMenuButton.addEventListener('click', function () {
                    profileDropdown.classList.toggle('hidden');
                });
                // Close dropdown when clicking outside
                document.addEventListener('click', function (event) {
                    if (!profileMenuButton.contains(event.target) && !profileDropdown.contains(event.target)) {
                        profileDropdown.classList.add('hidden');
                    }
                });
            });
        </script>

        <header class="fixed top-0 left-64 right-0 bg-white shadow-sm z-40">
            <div class="flex items-center justify-between px-6 py-4">
                <!-- <div> -->
                <!-- Search here -->
                <div class="flex items-center flex-1">
                    <button id="expand-sidebar"
                        class="hidden mr-4 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700 focus:outline-none">
                        <i class="ri-menu-line ri-lg"></i>
                    </button>
                    <div class="relative max-w-md w-full">
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                            <div class="w-5 h-5 flex items-center justify-center text-gray-400">
                                <i class="ri-search-line"></i>
                            </div>
                        </div>
                        <input type="search"
                            class="block w-full pl-10 pr-4 py-2 border-none rounded-button bg-gray-100 focus:bg-white focus:ring-2 focus:ring-primary focus:ring-opacity-20 text-sm"
                            placeholder="Search...">
                    </div>
                </div>
                <!-- <nav class="text-sm text-gray-500 mb-1">
                        <span>Dashboard</span>
                        <span class="mx-2">/</span>
                        <span>My Listings</span>
                        <span class="mx-2">/</span>
                        <span class="text-gray-900">Add New Listing</span>
                    </nav>
                    <h1 class="text-2xl font-semibold text-gray-900">Add New Listing</h1> -->
                <!-- Date, Notification, and User Profile here -->
                <div class="flex items-center space-x-4">
                    <div class="text-sm text-gray-600 hidden md:block">
                        July 2, 2025 • Wednesday
                    </div>
                    <div class="relative">
                        <button
                            class="w-10 h-10 flex items-center justify-center rounded-full text-gray-500 hover:bg-gray-100 focus:outline-none">
                            <div class="w-6 h-6 flex items-center justify-center relative">
                                <i class="ri-notification-3-line"></i>
                                <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
                            </div>
                        </button>
                    </div>
                    <div class="relative">
                        <button id="profile-menu-button" class="flex items-center space-x-2 focus:outline-none">
                            <!-- <div
                                    class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden">
                                    <div class="w-6 h-6 flex items-center justify-center text-gray-600">
                                        <i class="ri-user-line"></i>
                                    </div>
                                </div> -->
                            <div class="w-10 h-10 bg-primary rounded-full overflow-hidden">
                                <img src="https://readdy.ai/api/search-image?query=professional%20business%20headshot%20of%20John%20Smith%2C%20male%20executive%2C%20confident%20smile%2C%20business%20attire%2C%20clean%20background&width=80&height=80&seq=1&orientation=squarish"
                                    alt="John Smith" class="w-full h-full object-cover">
                            </div>
                            <div class="hidden md:block text-left">
                                <!-- <div class="text-sm font-medium">Emma Thompson</div> -->
                                <span class="text-sm font-medium text-gray-900">John Smith</span>

                                <div class="text-xs text-gray-500">Admin</div>
                            </div>
                            <div class="w-5 h-5 flex items-center justify-center text-gray-500">
                                <i class="ri-arrow-down-s-line"></i>
                            </div>
                        </button>
                        <div id="profile-dropdown"
                            class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden z-20">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Your
                                Profile</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Sign out</a>
                        </div>
                    </div>
                </div>

                <!-- </div> -->
                <!-- <div class="flex items-center space-x-4">
                    <div class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full cursor-pointer">
                        <i class="ri-notification-3-line text-gray-600 ri-lg"></i>
                    </div>

                    <div class="flex items-center space-x-3 cursor-pointer">
                        <div class="w-10 h-10 bg-primary rounded-full overflow-hidden">
                            <img src="https://readdy.ai/api/search-image?query=professional%20business%20headshot%20of%20John%20Smith%2C%20male%20executive%2C%20confident%20smile%2C%20business%20attire%2C%20clean%20background&width=80&height=80&seq=1&orientation=squarish"
                                alt="John Smith" class="w-full h-full object-cover">
                        </div>
                        <span class="text-sm font-medium text-gray-900">John Smith</span>
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-arrow-down-s-line text-gray-600"></i>
                        </div>
                    </div>
                    
                </div> -->
            </div>
        </header>
        <main class="flex-1 p-4 md:p-8 mt-16 overflow-y-auto">
            <header class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900">Requests</h1>
                <p class="text-gray-600 mt-2">Manage all incoming inquiries, booking requests, and actions requiring
                    your attention.</p>
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mt-6">
                    <button id="markAllReadBtn"
                        class="ctaz bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors flex items-center gap-2 !rounded-button whitespace-nowrap">
                        <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-check-double-line"></i>
                        </div>
                        Mark All as Read
                    </button>
                    <div class="relative w-full md:w-64">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <div class="w-4 h-4 flex items-center justify-center text-gray-400">
                                <i class="ri-search-line"></i>
                            </div>
                        </div>
                        <input type="text" id="searchInput"
                            class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"
                            placeholder="Search by ID or customer...">
                    </div>
                </div>
            </header>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Request Type</label>
                    <select id="typeFilter"
                        class="block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">All Types</option>
                        <option value="Booking Inquiry">Booking Inquiry</option>
                        <option value="Cancellation">Cancellation</option>
                        <option value="Special Request">Special Request</option>
                        <option value="General Inquiry">General Inquiry</option>
                        <option value="Platform Notice">Platform Notice</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                    <select id="statusFilter"
                        class="block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">All Statuses</option>
                        <option value="New">New</option>
                        <option value="Pending">Pending</option>
                        <option value="Replied">Replied</option>
                        <option value="Approved">Approved</option>
                        <option value="Rejected">Rejected</option>
                        <option value="Completed">Completed</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Listing</label>
                    <select id="listingFilter"
                        class="block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">All Listings</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Date Range</label>
                    <div class="flex gap-2">
                        <input type="date" id="dateFromFilter"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                        <input type="date" id="dateToFilter"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                </div>
                <div class="hidden">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Date Range</label>
                    <div class="flex gap-2">
                        <input type="date" id="dateFromFilter"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                       
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6">
                <div class="table-responsive">
                    <table class="w-full text-sm text-left text-gray-500">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                            <tr>
                                <th scope="col" class="px-6 py-3">Request ID</th>
                                <th scope="col" class="px-6 py-3">Type</th>
                                <th scope="col" class="px-6 py-3">Listing</th>
                                <th scope="col" class="px-6 py-3">Customer</th>
                                <th scope="col" class="px-6 py-3">Date</th>
                                <th scope="col" class="px-6 py-3">Status</th>
                                <th scope="col" class="px-6 py-3 text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="requestsTableBody">
                        </tbody>
                    </table>
                </div>
                <nav class="flex items-center justify-between pt-4" aria-label="Table navigation">
                    <span id="paginationInfo" class="text-sm font-normal text-gray-500"></span>
                    <ul id="pagination" class="inline-flex items-center -space-x-px"></ul>
                </nav>
            </div>
        </main>
    </div>

    <div id="requestDetailModal" class="modal-overlay">
        <div class="modal-content max-w-xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold text-gray-900">Request Details</h3>
                <button id="closeDetailModal" class="text-gray-400 hover:text-gray-600">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line text-xl"></i>
                    </div>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <span class="font-semibold text-gray-800">Request ID:</span>
                    <span id="modalRequestId" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-800">Type:</span>
                    <span id="modalRequestType" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-800">Listing:</span>
                    <span id="modalRequestListing" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-800">Customer:</span>
                    <span id="modalRequestCustomer" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-800">Date:</span>
                    <span id="modalRequestDate" class="ml-2 text-gray-600"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-800">Status:</span>
                    <span id="modalRequestStatus" class="ml-2"></span>
                </div>
                <div>
                    <div class="font-semibold text-gray-800 mb-2">Message:</div>
                    <p id="modalRequestMessage" class="text-gray-600 bg-gray-50 p-4 rounded-lg"></p>
                </div>
            </div>
            <div class="flex gap-3 mt-6">
                <button id="modalReplyBtn"
                    class="bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors !rounded-button whitespace-nowrap">Reply</button>
                <button id="modalApproveBtn"
                    class="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors !rounded-button whitespace-nowrap">Approve</button>
                <button id="modalRejectBtn"
                    class="bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors !rounded-button whitespace-nowrap">Reject</button>
                <button id="modalCloseBtn"
                    class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors !rounded-button whitespace-nowrap">Close</button>
            </div>
        </div>
    </div>

    <div id="confirmationModal" class="modal-overlay">
        <div class="modal-content max-w-sm">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Confirm Action</h3>
            <p id="confirmationMessage" class="text-gray-600 mb-6"></p>
            <div class="flex gap-3">
                <button id="confirmActionBtn"
                    class="bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors !rounded-button whitespace-nowrap">Confirm</button>
                <button id="cancelActionBtn"
                    class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors !rounded-button whitespace-nowrap">Cancel</button>
            </div>
        </div>
    </div>

    <script id="mockData">
        const mockListings = [
            { id: 1, name: "Doha City Tour" },
            { id: 2, name: "Desert Safari Adventure" },
            { id: 3, name: "Souq Waqif Cultural Walk" },
            { id: 4, name: "Museum of Islamic Art Visit" },
            { id: 5, name: "Pearl Diving Experience" },
            { id: 6, name: "Katara Cultural Village Tour" },
            { id: 7, name: "Al Zubarah Archaeological Site" },
            { id: 8, name: "Falcon Souq Experience" }
        ];

        const mockCustomers = [
            { id: 1, name: "Sarah Johnson" },
            { id: 2, name: "Michael Chen" },
            { id: 3, name: "Emma Rodriguez" },
            { id: 4, name: "David Thompson" },
            { id: 5, name: "Lisa Wang" },
            { id: 6, name: "James Anderson" },
            { id: 7, name: "Maria Garcia" },
            { id: 8, name: "Robert Kim" },
            { id: 9, name: "Jennifer Lee" },
            { id: 10, name: "Ahmed Al-Rashid" }
        ];

        const requests = [
            {
                id: "REQ12345",
                type: "Booking Inquiry",
                listingId: 1,
                customerId: 1,
                date: "2024-07-29 14:30",
                status: "New",
                message: "Hi, I'm interested in booking the Doha City Tour for 4 people on August 15th. Could you please provide availability and pricing details? We're particularly interested in the morning slot if available."
            },
            {
                id: "REQ12346",
                type: "Special Request",
                listingId: 2,
                customerId: 2,
                date: "2024-07-29 13:15",
                status: "Pending",
                message: "I would like to request a private desert safari for my family of 6. We have dietary restrictions (vegetarian) and would prefer a sunset timing. Can you accommodate these requirements?"
            },
            {
                id: "REQ12347",
                type: "Cancellation",
                listingId: 3,
                customerId: 3,
                date: "2024-07-29 11:45",
                status: "Replied",
                message: "Unfortunately, I need to cancel my booking for the Souq Waqif Cultural Walk scheduled for tomorrow due to a family emergency. Please process the refund as per your cancellation policy."
            },
            {
                id: "REQ12348",
                type: "General Inquiry",
                listingId: 4,
                customerId: 4,
                date: "2024-07-29 10:20",
                status: "Approved",
                message: "What is the photography policy at the Museum of Islamic Art? Can we take pictures inside the galleries? Also, is there a guided tour available in French?"
            },
            {
                id: "REQ12349",
                type: "Booking Inquiry",
                listingId: 5,
                customerId: 5,
                date: "2024-07-29 09:30",
                status: "Completed",
                message: "I'm planning a corporate team building event and interested in the Pearl Diving Experience for 20 people. What would be the group pricing and can you arrange transportation from our hotel?"
            },
            {
                id: "REQ12350",
                type: "Platform Notice",
                listingId: 6,
                customerId: 6,
                date: "2024-07-28 16:45",
                status: "New",
                message: "Platform notification: Your listing 'Katara Cultural Village Tour' requires updated safety protocols documentation. Please upload the required certificates within 7 days to maintain active status."
            },
            {
                id: "REQ12351",
                type: "Special Request",
                listingId: 7,
                customerId: 7,
                date: "2024-07-28 15:20",
                status: "Rejected",
                message: "Can you arrange a private archaeological tour at Al Zubarah with a specialized historian guide? We're researchers working on a project about Qatar's ancient trade routes."
            },
            {
                id: "REQ12352",
                type: "Booking Inquiry",
                listingId: 8,
                customerId: 8,
                date: "2024-07-28 14:10",
                status: "Pending",
                message: "Interested in the Falcon Souq Experience for next weekend. Are there any age restrictions? My youngest child is 8 years old. Also, what's included in the experience?"
            },
            {
                id: "REQ12353",
                type: "General Inquiry",
                listingId: 1,
                customerId: 9,
                date: "2024-07-28 12:30",
                status: "Replied",
                message: "What's the weather contingency plan for the Doha City Tour? We're visiting during the summer months and concerned about the heat. Do you provide indoor alternatives?"
            },
            {
                id: "REQ12354",
                type: "Cancellation",
                listingId: 2,
                customerId: 10,
                date: "2024-07-28 11:15",
                status: "Approved",
                message: "I need to reschedule my Desert Safari Adventure from August 5th to August 12th due to flight changes. Is this possible without additional charges? The booking reference is DSA-2024-0805."
            }
        ];
    </script>

    <script id="domReferences">
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('searchInput');
            const typeFilter = document.getElementById('typeFilter');
            const statusFilter = document.getElementById('statusFilter');
            const listingFilter = document.getElementById('listingFilter');
            const dateFromFilter = document.getElementById('dateFromFilter');
            const dateToFilter = document.getElementById('dateToFilter');
            const requestsTableBody = document.getElementById('requestsTableBody');
            const paginationInfo = document.getElementById('paginationInfo');
            const pagination = document.getElementById('pagination');
            const markAllReadBtn = document.getElementById('markAllReadBtn');
            const requestDetailModal = document.getElementById('requestDetailModal');
            const closeDetailModal = document.getElementById('closeDetailModal');
            const modalRequestId = document.getElementById('modalRequestId');
            const modalRequestType = document.getElementById('modalRequestType');
            const modalRequestListing = document.getElementById('modalRequestListing');
            const modalRequestCustomer = document.getElementById('modalRequestCustomer');
            const modalRequestDate = document.getElementById('modalRequestDate');
            const modalRequestStatus = document.getElementById('modalRequestStatus');
            const modalRequestMessage = document.getElementById('modalRequestMessage');
            const modalReplyBtn = document.getElementById('modalReplyBtn');
            const modalApproveBtn = document.getElementById('modalApproveBtn');
            const modalRejectBtn = document.getElementById('modalRejectBtn');
            const modalCloseBtn = document.getElementById('modalCloseBtn');

            const confirmationModal = document.getElementById('confirmationModal');
            const confirmationMessage = document.getElementById('confirmationMessage');
            const confirmActionBtn = document.getElementById('confirmActionBtn');
            const cancelActionBtn = document.getElementById('cancelActionBtn');

            let currentPage = 1;
            const itemsPerPage = 10;
            let currentActionType = '';
            let currentRequestId = '';

            function getStatusPill(status) {
                const statusConfig = {
                    'New': { bg: 'bg-blue-100', text: 'text-blue-700', dot: 'bg-blue-500' },
                    'Pending': { bg: 'bg-yellow-100', text: 'text-yellow-700', dot: 'bg-yellow-500' },
                    'Replied': { bg: 'bg-green-100', text: 'text-green-700', dot: 'bg-green-500' },
                    'Approved': { bg: 'bg-green-100', text: 'text-green-700', dot: 'bg-green-500' },
                    'Rejected': { bg: 'bg-red-100', text: 'text-red-700', dot: 'bg-red-500' },
                    'Completed': { bg: 'bg-green-100', text: 'text-green-700', dot: 'bg-green-500' }
                };
                const config = statusConfig[status] || statusConfig['New'];
                return `<span class="status-pill ${config.bg} ${config.text}">
                    <span class="dot ${config.dot}"></span>
                    ${status}
                </span>`;
            }
            function populateListingFilter() {
                listingFilter.innerHTML = '<option value="">All Listings</option>';
                mockListings.forEach(listing => {
                    const option = document.createElement('option');
                    option.value = listing.id;
                    option.textContent = listing.name;
                    listingFilter.appendChild(option);
                });
            }

            function getFilteredRequests() {
                let filtered = [...requests];

                const searchTerm = searchInput.value.toLowerCase();
                if (searchTerm) {
                    filtered = filtered.filter(request =>
                        request.id.toLowerCase().includes(searchTerm) ||
                        mockCustomers.find(c => c.id === request.customerId)?.name.toLowerCase().includes(searchTerm)
                    );
                }

                if (typeFilter.value) {
                    filtered = filtered.filter(request => request.type === typeFilter.value);
                }

                if (statusFilter.value) {
                    filtered = filtered.filter(request => request.status === statusFilter.value);
                }

                if (listingFilter.value) {
                    filtered = filtered.filter(request => request.listingId === parseInt(listingFilter.value));
                }

                if (dateFromFilter.value) {
                    filtered = filtered.filter(request => request.date >= dateFromFilter.value);
                }

                if (dateToFilter.value) {
                    filtered = filtered.filter(request => request.date <= dateToFilter.value + ' 23:59');
                }

                return filtered;
            }

            function renderRequests() {
                const filtered = getFilteredRequests();
                const startIndex = (currentPage - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;
                const pageRequests = filtered.slice(startIndex, endIndex);

                requestsTableBody.innerHTML = '';

                pageRequests.forEach(request => {
                    const listing = mockListings.find(l => l.id === request.listingId);
                    const customer = mockCustomers.find(c => c.id === request.customerId);

                    const row = document.createElement('tr');
                    row.className = 'bg-white border-b hover:bg-gray-50';
                    row.innerHTML = `
                        <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">#${request.id}</td>
                        <td class="px-6 py-4">${request.type}</td>
                        <td class="px-6 py-4">${listing?.name || 'Unknown'}</td>
                        <td class="px-6 py-4">${customer?.name || 'Unknown'}</td>
                        <td class="px-6 py-4">${new Date(request.date).toLocaleString()}</td>
                        <td class="px-6 py-4">${getStatusPill(request.status)}</td>
                        <td class="px-6 py-4 text-center">
                            <div class="flex items-center justify-center gap-2">
                                <button data-id="${request.id}" class="action-view text-blue-600 hover:text-blue-800 text-lg" title="View Details">
                                    <div class="w-6 h-6 flex items-center justify-center">
                                        <i class="ri-eye-line"></i>
                                    </div>
                                </button>
                                <button data-id="${request.id}" class="action-reply text-green-600 hover:text-green-800 text-lg" title="Reply">
                                    <div class="w-6 h-6 flex items-center justify-center">
                                        <i class="ri-reply-line"></i>
                                    </div>
                                </button>
                                <button data-id="${request.id}" class="action-approve text-purple-600 hover:text-purple-800 text-lg" title="Approve">
                                    <div class="w-6 h-6 flex items-center justify-center">
                                        <i class="ri-check-line"></i>
                                    </div>
                                </button>
                                <button data-id="${request.id}" class="action-reject text-red-600 hover:text-red-800 text-lg" title="Reject">
                                    <div class="w-6 h-6 flex items-center justify-center">
                                        <i class="ri-close-line"></i>
                                    </div>
                                </button>
                            </div>
                        </td>
                    `;
                    requestsTableBody.appendChild(row);
                });

                updatePagination(filtered.length);
            }

            function updatePagination(totalItems) {
                const totalPages = Math.ceil(totalItems / itemsPerPage);
                const startItem = (currentPage - 1) * itemsPerPage + 1;
                const endItem = Math.min(currentPage * itemsPerPage, totalItems);
                paginationInfo.textContent = `Showing ${startItem}-${endItem} of ${totalItems} entries`;

                pagination.innerHTML = '';
                if (totalPages <= 1) return;

                const prevBtn = document.createElement('li');
                prevBtn.innerHTML = `
                    <button class="px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 ${currentPage === 1 ? 'cursor-not-allowed opacity-50' : ''}" ${currentPage === 1 ? 'disabled' : ''}>
                        <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-left-s-line"></i>
                        </div>
                    </button>
                `;
                pagination.appendChild(prevBtn);
                for (let i = 1; i <= totalPages; i++) {
                    if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                        const pageBtn = document.createElement('li');
                        pageBtn.innerHTML = `
                            <button class="px-3 py-2 leading-tight border border-gray-300 ${i === currentPage ? 'text-blue-600 bg-blue-50' : 'text-gray-500 bg-white hover:bg-gray-100 hover:text-gray-700'}" data-page="${i}">
                                ${i}
                            </button>
                        `;
                        pagination.appendChild(pageBtn);
                    } else if (i === currentPage - 2 || i === currentPage + 2) {
                        const dots = document.createElement('li');
                        dots.innerHTML = '<span class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300">...</span>';
                        pagination.appendChild(dots);
                    }
                }

                const nextBtn = document.createElement('li');
                nextBtn.innerHTML = `
                    <button class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 ${currentPage === totalPages ? 'cursor-not-allowed opacity-50' : ''}" ${currentPage === totalPages ? 'disabled' : ''}>
                        <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-right-s-line"></i>
                        </div>
                    </button>
                `;
                pagination.appendChild(nextBtn);
            }

            function openRequestDetailModal(request) {
                const listing = mockListings.find(l => l.id === request.listingId);
                const customer = mockCustomers.find(c => c.id === request.customerId);

                modalRequestId.textContent = `#${request.id}`;
                modalRequestType.textContent = request.type;
                modalRequestListing.textContent = listing?.name || 'Unknown';
                modalRequestCustomer.textContent = customer?.name || 'Unknown';
                modalRequestDate.textContent = new Date(request.date).toLocaleString();
                modalRequestStatus.innerHTML = getStatusPill(request.status);
                modalRequestMessage.textContent = request.message;
                requestDetailModal.classList.add('active');
            }

            function openConfirmationModal(actionType, requestId) {
                currentActionType = actionType;
                currentRequestId = requestId;

                const messages = {
                    'approve': 'Are you sure you want to approve this request?',
                    'reject': 'Are you sure you want to reject this request?'
                };

                confirmationMessage.textContent = messages[actionType] || 'Are you sure you want to perform this action?';
                confirmationModal.classList.add('active');
            }

            function closeModal(modal) {
                modal.classList.remove('active');
            }

            populateListingFilter();
            renderRequests();

            searchInput.addEventListener('input', () => {
                currentPage = 1;
                renderRequests();
            });

            [typeFilter, statusFilter, listingFilter, dateFromFilter, dateToFilter].forEach(filter => {
                filter.addEventListener('change', () => {
                    currentPage = 1;
                    renderRequests();
                });
            });

            pagination.addEventListener('click', (e) => {
                if (e.target.dataset.page) {
                    currentPage = parseInt(e.target.dataset.page);
                    renderRequests();
                } else if (e.target.closest('button')) {
                    const btn = e.target.closest('button');
                    if (btn.innerHTML.includes('arrow-left') && currentPage > 1) {
                        currentPage--;
                        renderRequests();
                    } else if (btn.innerHTML.includes('arrow-right')) {
                        const totalPages = Math.ceil(getFilteredRequests().length / itemsPerPage);
                        if (currentPage < totalPages) {
                            currentPage++;
                            renderRequests();
                        }
                    }
                }
            });

            requestsTableBody.addEventListener('click', (e) => {
                const button = e.target.closest('button');
                if (!button) return;

                const requestId = button.dataset.id;
                const request = requests.find(r => r.id === requestId);
                if (!request) return;

                if (button.classList.contains('action-view')) {
                    openRequestDetailModal(request);
                } else if (button.classList.contains('action-reply')) {
                    alert('Simulating reply to request...');
                } else if (button.classList.contains('action-approve')) {
                    openConfirmationModal('approve', requestId);
                } else if (button.classList.contains('action-reject')) {
                    openConfirmationModal('reject', requestId);
                }
            });

            markAllReadBtn.addEventListener('click', () => {
                requests.forEach(request => {
                    if (request.status === 'New') {
                        request.status = 'Replied';
                    }
                });
                renderRequests();
                alert('All new requests marked as read');
            });

            [closeDetailModal, modalCloseBtn].forEach(btn => {
                btn.addEventListener('click', () => closeModal(requestDetailModal));
            });

            modalReplyBtn.addEventListener('click', () => {
                alert('Simulating reply to request...');
                closeModal(requestDetailModal);
            });

            modalApproveBtn.addEventListener('click', () => {
                const requestId = modalRequestId.textContent.replace('#', '');
                openConfirmationModal('approve', requestId);
                closeModal(requestDetailModal);
            });

            modalRejectBtn.addEventListener('click', () => {
                const requestId = modalRequestId.textContent.replace('#', '');
                openConfirmationModal('reject', requestId);
                closeModal(requestDetailModal);
            });

            confirmActionBtn.addEventListener('click', () => {
                const request = requests.find(r => r.id === currentRequestId);
                if (request) {
                    if (currentActionType === 'approve') {
                        request.status = 'Approved';
                    } else if (currentActionType === 'reject') {
                        request.status = 'Rejected';
                    }
                    renderRequests();
                }
                closeModal(confirmationModal);
            });
            cancelActionBtn.addEventListener('click', () => closeModal(confirmationModal));

            [requestDetailModal, confirmationModal].forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal);
                    }
                });
            });
        });
    </script>
</body>

</html>